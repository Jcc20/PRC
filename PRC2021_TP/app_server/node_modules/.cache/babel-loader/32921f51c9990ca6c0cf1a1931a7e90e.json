{"remainingRequest":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue","mtime":1624905277734},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYjogMCwKICAgICAgdGFiczogW3sKICAgICAgICBuYW1lOiAiTG9naW4iLAogICAgICAgIGljb246ICJtZGktYWNjb3VudCIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJSZWdpc3RlciIsCiAgICAgICAgaWNvbjogIm1kaS1hY2NvdW50LW91dGxpbmUiCiAgICAgIH1dLAogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIlRoaXMgY2FtcCBpcyByZXF1aXJlZC4iOwogICAgICAgIH0sCiAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbiBsZW5ndGgodikgewogICAgICAgICAgcmV0dXJuICh2IHx8ICcnKS5sZW5ndGggPD0gMjAgfHwgJ1VzZXJuYW1lIGRldmVyw6EgY29udGVyIDIwIGNhcmFjdGVyZXMgb3UgbWVub3MnOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHBhc3N3b3JkUmVnaXN0ZXI6ICIiLAogICAgICBwYXNzdmVyaWZ5OiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBlbWFpbFJlZ2lzdGVyOiAiIiwKICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGFsZXJ0OiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIHZhbHVlTG9naW46IFN0cmluZywKICAgICAgdmFsdWVSZWdpc3RhclBhc3M6IFN0cmluZywKICAgICAgdmFsdWVSZWdpc3RhckNvbmZpclBhc3M6IFN0cmluZwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzd29yZE1hdGNoOiBmdW5jdGlvbiBwYXNzd29yZE1hdGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMucGFzc3dvcmRSZWdpc3RlciA9PT0gX3RoaXMucGFzc3ZlcmlmeSB8fCAiUGFzc3dvcmQgbXVzdCBtYXRjaCI7CiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwb3N0TG9naW46IGZ1bmN0aW9uIHBvc3RMb2dpbihqc29uKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo3NzAwL3V0aWxpemFkb3IvbG9naW4vIiwganNvbikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLCBkYXRhLmRhdGEudG9rZW4pOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5nbygpOwoKICAgICAgICBfdGhpczIuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi5hbGVydCA9IHRydWU7CiAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGpzb24gPSB7fTsKICAgICAganNvblsnZW1haWwnXSA9IHRoaXMuZW1haWw7CiAgICAgIGpzb25bJ3Bhc3N3b3JkJ10gPSB0aGlzLnBhc3N3b3JkOwogICAgICB0aGlzLnBvc3RMb2dpbihqc29uKTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGpzb24gPSB7fTsKICAgICAganNvblsnbm9tZSddID0gdGhpcy51c2VybmFtZTsKICAgICAganNvblsnZW1haWwnXSA9IHRoaXMuZW1haWxSZWdpc3RlcjsKICAgICAganNvblsncGFzc3dvcmQnXSA9IHRoaXMucGFzc3dvcmRSZWdpc3RlcjsKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo3NzAwL3V0aWxpemFkb3IvcmVnaXN0YXIvIiwganNvbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnBvc3RMb2dpbihqc29uKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5hbGVydCA9IHRydWU7CiAgICAgICAgX3RoaXMzLm1lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div id=\"login\">\r\n      <v-dialog max-width=\"400px\" v-model=\"dialog\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <span class=\"hyperlink\" v-on=\"on\"><b>Login</b></span>\r\n            </template>\r\n\r\n            <v-tabs v-model=\"tab\" show-arrows color=\"#57a2bf\" background-color=\"white\" icons-and-text light grow>\r\n                <v-tabs-slider color=\"#57a2bf\"></v-tabs-slider>\r\n                <v-tab v-for=\"i in tabs\" :key=\"i.name\" >\r\n                      <div class=\"caption py-1\" >{{ i.name }}</div>\r\n                </v-tab>\r\n                <v-tab-item>\r\n                    <v-card>\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"email\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueLogin ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueLogin ? 'password' : 'text'\" \r\n                                    v-model=\"password\" \r\n                                    label=\"Password\"\r\n                                    :rules=\"[rules.required]\"\r\n                                    @click:append=\"() => (valueLogin = !valueLogin)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" \r\n                            style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"login()\" \r\n                            color=\"#57a2bf\"\r\n                            >Login</v-btn>\r\n                        </v-card-actions>\r\n\r\n                    </v-card>\r\n                </v-tab-item>\r\n                \r\n                <v-tab-item >\r\n                    <v-card >\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"username\" \r\n                                    :rules=\"[rules.required,rules.length]\"\r\n                                    label=\"Username\" >\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"emailRegister\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required]\"  \r\n                                    v-model=\"passwordRegister\" \r\n                                    label=\"Password\"\r\n                                    @click:append=\"() => (valueRegistarPass = !valueRegistarPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarConfirPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarConfirPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required, passwordMatch]\" \r\n                                    block \r\n                                    v-model=\"passverify\"\r\n                                    label=\"Confirm Password\"\r\n                                    @click:append=\"() => (valueRegistarConfirPass = !valueRegistarConfirPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"register()\" \r\n                            color=\"#57a2bf\"\r\n                            >Register</v-btn>\r\n                        </v-card-actions>          \r\n                    </v-card>\r\n                </v-tab-item>\r\n            </v-tabs>  \r\n      </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        name: 'Login',\r\n        data() {\r\n            return {\r\n                tab: 0,\r\n                tabs: [\r\n                    {name:\"Login\", icon:\"mdi-account\"},\r\n                    {name:\"Register\", icon:\"mdi-account-outline\"}\r\n                ],\r\n                rules: {\r\n                    required: value => !!value || \"This camp is required.\",\r\n                    length: v => (v || '' ).length <= 20 || 'Username deverÃ¡ conter 20 caracteres ou menos'\r\n                },\r\n                username: \"\",\r\n                password: \"\",\r\n                passwordRegister: \"\",\r\n                passverify: \"\",\r\n                email: \"\",\r\n                emailRegister: \"\",\r\n                type: \"password\",\r\n                message:'',\r\n                alert: false,\r\n                loading: false,\r\n                dialog: false,\r\n                valueLogin: String,\r\n                valueRegistarPass: String,\r\n                valueRegistarConfirPass: String,\r\n            }\r\n        },\r\n        computed: {\r\n            passwordMatch() {\r\n                return () => this.passwordRegister === this.passverify || \"Password must match\";\r\n            }\r\n        },  \r\n        methods: {\r\n            postLogin(json) {\r\n                axios.post(\"http://localhost:7700/utilizador/login/\", json)\r\n                    .then(data => {\r\n                        localStorage.setItem('jwt',data.data.token)\r\n                        this.$router.go()\r\n                        this.dialog = false\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })\r\n            },\r\n            login() {\r\n                this.loading = true\r\n                var json = {}\r\n                json['email'] = this.email\r\n                json['password'] = this.password\r\n                this.postLogin(json) \r\n            },\r\n            register() {\r\n                this.loading=true\r\n                var json = {}\r\n                json['nome'] = this.username\r\n                json['email']    = this.emailRegister\r\n                json['password'] = this.passwordRegister\r\n                axios.post(\"http://localhost:7700/utilizador/registar/\", json)\r\n                    .then( () => {\r\n                        this.postLogin(json) \r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })       \r\n            },            \r\n        }\r\n    }\r\n  \r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\r\n#login {\r\n    margin: auto;\r\n}\r\n\r\n.alert {\r\n    text-align: center;\r\n    color: red;\r\n}\r\n#login .tab {\r\n    color: #57a2bf;\r\n}\r\n\r\n.hyperlink {\r\n    text-decoration: none;\r\n    color: #212121 !important;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/components"}]}