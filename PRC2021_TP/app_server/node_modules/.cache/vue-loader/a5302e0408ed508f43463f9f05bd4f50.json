{"remainingRequest":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\ReceitasSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\ReceitasSearch.vue","mtime":1624906291324},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQppbXBvcnQgQWRkUmVjZWl0YSBmcm9tICdAL2NvbXBvbmVudHMvQWRkUmVjZWl0YS52dWUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAncmVjZWl0YXNTZWFyY2gnLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7IA0KICAgICAgICAgICAgdGl0dWxvOiBudWxsLA0KICAgICAgICAgICAgdGlwb0NvemluaGE6IG51bGwsDQogICAgICAgICAgICB0aXBvUHJhdG86IG51bGwsDQogICAgICAgICAgICBjaGVmOiBudWxsLA0KICAgICAgICAgICAgaW5ncmVkaWVudGU6IG51bGwsDQogICAgICAgICAgICBsaXN0OiBbXSwNCiAgICAgICAgICAgIHJlY3M6IFtdLA0KICAgICAgICAgICAgdGlwb3NDb3ppbmhhOiBbXSwNCiAgICAgICAgICAgIHRpcG9zUHJhdG86IFtdLA0KICAgICAgICAgICAgY2hlZnM6IFtdLA0KICAgICAgICAgICAgYWxsOiBmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NzcwMC9yZWNlaXRhL3RpcG9zQ296aW5oYSIpDQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGlwb3NDb3ppbmhhID0gZGF0YS5kYXRhLnRpcG9zDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo3NzAwL3JlY2VpdGEvdGlwb3NQcmF0byIpDQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGlwb3NQcmF0byA9IGRhdGEuZGF0YS50aXBvcw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NzcwMC9yZWNlaXRhL2F1dG9yZXMiKQ0KICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWZzID0gZGF0YS5kYXRhLnRpcG9zDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICANCiAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0Ojc3MDAvcmVjZWl0YS9yZWNlbnRlcyIpDQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmxpc3QgPSBkYXRhLmRhdGEucmVjZWl0YXMNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgICAgICB9KSAgICAgDQogICAgICAgIA0KICAgIH0sDQogICAgY29tcG9uZW50czogew0KICAgICAgICBBZGRSZWNlaXRhDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGhhbmRsZUNsaWNrKHZhbHVlKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2godmFsdWUpICAgICAgDQogICAgICAgIH0sDQogICAgICAgIHNvcnRlZChsaXN0YSkgew0KICAgICAgICAgICAgaWYgKGxpc3RhKSByZXR1cm4gbGlzdGEuc29ydCgoYSxiKSA9PiAoYS5nb3N0b3MubGVuZ3RoIDwgYi5nb3N0b3MubGVuZ3RoKSA/IDEgOiAoKGIuZ29zdG9zLmxlbmd0aCA8IGEuZ29zdG9zLmxlbmd0aCkgPyAtMSA6IDApKQ0KICAgICAgICAgICAgZWxzZSByZXR1cm4gbGlzdGENCiAgICAgICAgfSwNCiAgICAgICAgc2VhcmNoKCkgew0KICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gJycNCiAgICAgICAgICAgIGlmICh0aGlzLnRpcG9Db3ppbmhhKSBxdWVyeSs9IChxdWVyeT09Jyc/Jyc6JyYnKSArICJ0aXBvQ296aW5oYT0iICsgdGhpcy50aXBvQ296aW5oYQ0KICAgICAgICAgICAgaWYgKHRoaXMudGlwb1ByYXRvKSBxdWVyeSs9IChxdWVyeT09Jyc/Jyc6JyYnKSArICJ0aXBvUHJhdG89IiArIHRoaXMudGlwb1ByYXRvDQogICAgICAgICAgICBpZiAodGhpcy5jaGVmKSBxdWVyeSs9IChxdWVyeT09Jyc/Jyc6JyYnKSArICJhdXRvcj0iICsgdGhpcy5jaGVmLnJlcGxhY2VBbGwoJyAnLCdfJykNCiAgICAgICAgICAgIGlmICh0aGlzLnRpdHVsbykgcXVlcnkrPSAocXVlcnk9PScnPycnOicmJykgKyAidGl0dWxvPSIgKyB0aGlzLnRpdHVsbw0KICAgICAgICAgICAgaWYgKHRoaXMuaW5ncmVkaWVudGUpIHF1ZXJ5Kz0gKHF1ZXJ5PT0nJz8nJzonJicpICsgImluZ3JlZGllbnRlPSIgKyB0aGlzLmluZ3JlZGllbnRlDQogICAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NzcwMC9yZWNlaXRhPyIrcXVlcnkpDQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IHRoaXMuc29ydGVkKGRhdGEuZGF0YS5yZWNlaXRhcykNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGwgPSB0cnVlDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHNlYXJjaEFsbCgpew0KICAgICAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0Ojc3MDAvcmVjZWl0YS8iKQ0KICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLnNvcnRlZChkYXRhLmRhdGEucmVjZWl0YXMpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQo="},{"version":3,"sources":["ReceitasSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReceitasSearch.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"receitasSearch\" class=\"receitasSearch\">\r\n        <v-container> \r\n            <v-row no-gutters>\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"2\">\r\n                    <v-text-field\r\n                      v-model=\"titulo\"\r\n                      label=\"Titulo\"\r\n                      dense\r\n                      outlined\r\n                      hide-details\r\n                    ></v-text-field>\r\n                </v-col>\r\n\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"2\">\r\n                    <v-text-field\r\n                      v-model=\"ingrediente\"\r\n                      label=\"Ingrediente\"\r\n                      dense\r\n                      outlined\r\n                      hide-details\r\n                    ></v-text-field>\r\n                </v-col>\r\n\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"2\">\r\n                    <v-select\r\n                      :items=\"tiposCozinha\"\r\n                      v-model=\"tipoCozinha\"\r\n                      label=\"Tipo de cozinha\"\r\n                      dense\r\n                      outlined\r\n                      hide-details\r\n                      clearable\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"2\">\r\n                    <v-select\r\n                      :items=\"tiposPrato\"\r\n                      v-model=\"tipoPrato\"\r\n                      label=\"Tipo de prato\"\r\n                      dense\r\n                      clearable\r\n                      hide-details\r\n                      outlined\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"2\">\r\n                    <v-select\r\n                      :items=\"chefs\"\r\n                      v-model=\"chef\"\r\n                      label=\"Chef\"\r\n                      dense\r\n                      outlined\r\n                      hide-details\r\n                      clearable\r\n                    ></v-select>\r\n                </v-col>\r\n\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"1\">\r\n                    <v-btn @click=\"search()\">\r\n                        <v-icon> mdi-magnify </v-icon>\r\n                    </v-btn>\r\n                </v-col>\r\n                <v-col class=\"d-flex pa-2\" cols=\"12\" sm=\"1\" style=\"margin-left:-15px\">\r\n                    <AddReceita :button=\"true\"/>\r\n                </v-col>\r\n            \r\n            </v-row>\r\n\r\n\r\n            <v-row>\r\n                <v-col v-if=\"this.list.length==0\" align=\"center\">\r\n                    <p style=\"font-size:20px\"><b>Sem resultados!</b></p>\r\n                </v-col>\r\n                <v-col cols=\"12\"  class=\"publicacoes\">\r\n                      <v-row no-gutters>\r\n                        <v-col v-for=\"n in list\" :key=\"n.id\" cols=\"12\" sm=\"6\">\r\n                          <v-card class=\"pa-6 pub\" outlined  @click=\"handleClick('/receitas/'+n.rec_id)\">\r\n                            <v-row>\r\n                              <v-col cols=\"12\" sm=\"5\" style=\"display:inline-flex\">\r\n                                  <v-img v-if=\"n.imgPath\" :src=\"'http://localhost:7700/uploads/'+n.imgPath\" width=\"400\" height=\"200\"></v-img>\r\n                                  <v-img v-else src=\"../../public/default.png\"></v-img>\r\n                              </v-col>\r\n                              <v-row class=\"pa-2\" align=\"end\">\r\n                                <v-col cols=\"12\" sm=\"10\">\r\n                                    <span style=\"font-size: 20px; color: #53a6bf;\"> {{ n.titulo }} <br/> </span>  \r\n                                    <span > <b>Autor: </b>{{ n.autor }} <br/></span>\r\n                                    <span > <b>Dificuldade: </b>\r\n                                        <span v-if=\"n.dificuldade=='Fácil'\" style=\"color:green\"> {{n.dificuldade}} </span>\r\n                                        <span  v-else-if=\"n.dificuldade=='Média'\" style=\"color:orange\"> {{n.dificuldade}} </span>\r\n                                        <span v-else style=\"color:red\"> {{n.dificuldade}} </span><br/><br/>\r\n                                    </span>\r\n                                    <span> <i> Adicionada {{ n.data | moment(\"from\") }} </i> </span>\r\n                                </v-col>\r\n                                <v-col align=\"right\" sm=\"2\">\r\n                                    <v-row>\r\n                                        <v-icon color=\"red\">mdi-cards-heart</v-icon>\r\n                                        <span style=\"margin-left:5px\"> {{ n.gostos.length }} </span>\r\n                                    </v-row>\r\n                                </v-col>\r\n                              </v-row>\r\n                            </v-row>\r\n                           </v-card> \r\n                        </v-col>\r\n                      </v-row>      \r\n                </v-col>\r\n            </v-row>\r\n\r\n            <v-row v-if=\"!all\">\r\n                <v-col align=\"center\">\r\n                    <v-btn @click=\"searchAll()\"> Ver Todos \r\n                    </v-btn>\r\n                </v-col>\r\n            </v-row>\r\n        </v-container>   \r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport AddReceita from '@/components/AddReceita.vue'\r\n\r\nexport default {\r\n    name: 'receitasSearch',\r\n    data() {\r\n        return { \r\n            titulo: null,\r\n            tipoCozinha: null,\r\n            tipoPrato: null,\r\n            chef: null,\r\n            ingrediente: null,\r\n            list: [],\r\n            recs: [],\r\n            tiposCozinha: [],\r\n            tiposPrato: [],\r\n            chefs: [],\r\n            all: false\r\n        }\r\n    },\r\n    created() {\r\n        axios.get(\"http://localhost:7700/receita/tiposCozinha\")\r\n                .then(data => {\r\n                    this.tiposCozinha = data.data.tipos\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        axios.get(\"http://localhost:7700/receita/tiposPrato\")\r\n                .then(data => {\r\n                    this.tiposPrato = data.data.tipos\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        axios.get(\"http://localhost:7700/receita/autores\")\r\n                .then(data => {\r\n                    this.chefs = data.data.tipos\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })                 \r\n        axios.get(\"http://localhost:7700/receita/recentes\")\r\n            .then(data => {\r\n                this.list = data.data.receitas\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })     \r\n        \r\n    },\r\n    components: {\r\n        AddReceita\r\n    },\r\n    methods: {\r\n        handleClick(value) {\r\n          this.$router.push(value)      \r\n        },\r\n        sorted(lista) {\r\n            if (lista) return lista.sort((a,b) => (a.gostos.length < b.gostos.length) ? 1 : ((b.gostos.length < a.gostos.length) ? -1 : 0))\r\n            else return lista\r\n        },\r\n        search() {\r\n            var query = ''\r\n            if (this.tipoCozinha) query+= (query==''?'':'&') + \"tipoCozinha=\" + this.tipoCozinha\r\n            if (this.tipoPrato) query+= (query==''?'':'&') + \"tipoPrato=\" + this.tipoPrato\r\n            if (this.chef) query+= (query==''?'':'&') + \"autor=\" + this.chef.replaceAll(' ','_')\r\n            if (this.titulo) query+= (query==''?'':'&') + \"titulo=\" + this.titulo\r\n            if (this.ingrediente) query+= (query==''?'':'&') + \"ingrediente=\" + this.ingrediente\r\n            axios.get(\"http://localhost:7700/receita?\"+query)\r\n                .then(data => {\r\n                    this.list = this.sorted(data.data.receitas)\r\n                    this.all = true\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        },\r\n        searchAll(){\r\n            axios.get(\"http://localhost:7700/receita/\")\r\n                .then(data => {\r\n                    this.list = this.sorted(data.data.receitas)\r\n                    this.all = true\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n\r\n<style>\r\n\r\n\r\n</style>"]}]}