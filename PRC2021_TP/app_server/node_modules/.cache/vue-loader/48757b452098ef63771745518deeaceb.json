{"remainingRequest":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue","mtime":1624905277734},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KI2xvZ2luIHsNCiAgICBtYXJnaW46IGF1dG87DQp9DQoNCi5hbGVydCB7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGNvbG9yOiByZWQ7DQp9DQojbG9naW4gLnRhYiB7DQogICAgY29sb3I6ICM1N2EyYmY7DQp9DQoNCi5oeXBlcmxpbmsgew0KICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgICBjb2xvcjogIzIxMjEyMSAhaW1wb3J0YW50Ow0KfQ0KDQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"login\">\r\n      <v-dialog max-width=\"400px\" v-model=\"dialog\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <span class=\"hyperlink\" v-on=\"on\"><b>Login</b></span>\r\n            </template>\r\n\r\n            <v-tabs v-model=\"tab\" show-arrows color=\"#57a2bf\" background-color=\"white\" icons-and-text light grow>\r\n                <v-tabs-slider color=\"#57a2bf\"></v-tabs-slider>\r\n                <v-tab v-for=\"i in tabs\" :key=\"i.name\" >\r\n                      <div class=\"caption py-1\" >{{ i.name }}</div>\r\n                </v-tab>\r\n                <v-tab-item>\r\n                    <v-card>\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"email\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueLogin ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueLogin ? 'password' : 'text'\" \r\n                                    v-model=\"password\" \r\n                                    label=\"Password\"\r\n                                    :rules=\"[rules.required]\"\r\n                                    @click:append=\"() => (valueLogin = !valueLogin)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" \r\n                            style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"login()\" \r\n                            color=\"#57a2bf\"\r\n                            >Login</v-btn>\r\n                        </v-card-actions>\r\n\r\n                    </v-card>\r\n                </v-tab-item>\r\n                \r\n                <v-tab-item >\r\n                    <v-card >\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"username\" \r\n                                    :rules=\"[rules.required,rules.length]\"\r\n                                    label=\"Username\" >\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"emailRegister\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required]\"  \r\n                                    v-model=\"passwordRegister\" \r\n                                    label=\"Password\"\r\n                                    @click:append=\"() => (valueRegistarPass = !valueRegistarPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarConfirPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarConfirPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required, passwordMatch]\" \r\n                                    block \r\n                                    v-model=\"passverify\"\r\n                                    label=\"Confirm Password\"\r\n                                    @click:append=\"() => (valueRegistarConfirPass = !valueRegistarConfirPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"register()\" \r\n                            color=\"#57a2bf\"\r\n                            >Register</v-btn>\r\n                        </v-card-actions>          \r\n                    </v-card>\r\n                </v-tab-item>\r\n            </v-tabs>  \r\n      </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        name: 'Login',\r\n        data() {\r\n            return {\r\n                tab: 0,\r\n                tabs: [\r\n                    {name:\"Login\", icon:\"mdi-account\"},\r\n                    {name:\"Register\", icon:\"mdi-account-outline\"}\r\n                ],\r\n                rules: {\r\n                    required: value => !!value || \"This camp is required.\",\r\n                    length: v => (v || '' ).length <= 20 || 'Username deverÃ¡ conter 20 caracteres ou menos'\r\n                },\r\n                username: \"\",\r\n                password: \"\",\r\n                passwordRegister: \"\",\r\n                passverify: \"\",\r\n                email: \"\",\r\n                emailRegister: \"\",\r\n                type: \"password\",\r\n                message:'',\r\n                alert: false,\r\n                loading: false,\r\n                dialog: false,\r\n                valueLogin: String,\r\n                valueRegistarPass: String,\r\n                valueRegistarConfirPass: String,\r\n            }\r\n        },\r\n        computed: {\r\n            passwordMatch() {\r\n                return () => this.passwordRegister === this.passverify || \"Password must match\";\r\n            }\r\n        },  \r\n        methods: {\r\n            postLogin(json) {\r\n                axios.post(\"http://localhost:7700/utilizador/login/\", json)\r\n                    .then(data => {\r\n                        localStorage.setItem('jwt',data.data.token)\r\n                        this.$router.go()\r\n                        this.dialog = false\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })\r\n            },\r\n            login() {\r\n                this.loading = true\r\n                var json = {}\r\n                json['email'] = this.email\r\n                json['password'] = this.password\r\n                this.postLogin(json) \r\n            },\r\n            register() {\r\n                this.loading=true\r\n                var json = {}\r\n                json['nome'] = this.username\r\n                json['email']    = this.emailRegister\r\n                json['password'] = this.passwordRegister\r\n                axios.post(\"http://localhost:7700/utilizador/registar/\", json)\r\n                    .then( () => {\r\n                        this.postLogin(json) \r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })       \r\n            },            \r\n        }\r\n    }\r\n  \r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\r\n#login {\r\n    margin: auto;\r\n}\r\n\r\n.alert {\r\n    text-align: center;\r\n    color: red;\r\n}\r\n#login .tab {\r\n    color: #57a2bf;\r\n}\r\n\r\n.hyperlink {\r\n    text-decoration: none;\r\n    color: #212121 !important;\r\n}\r\n\r\n</style>"]}]}