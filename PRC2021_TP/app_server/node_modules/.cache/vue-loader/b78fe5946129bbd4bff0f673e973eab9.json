{"remainingRequest":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\src\\components\\Login.vue","mtime":1624905277734},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zezoca\\Desktop\\Uni\\4ano\\2sem\\PRC\\PRC2021_TP\\app_server\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6ICdMb2dpbicsDQogICAgICAgIGRhdGEoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHRhYjogMCwNCiAgICAgICAgICAgICAgICB0YWJzOiBbDQogICAgICAgICAgICAgICAgICAgIHtuYW1lOiJMb2dpbiIsIGljb246Im1kaS1hY2NvdW50In0sDQogICAgICAgICAgICAgICAgICAgIHtuYW1lOiJSZWdpc3RlciIsIGljb246Im1kaS1hY2NvdW50LW91dGxpbmUifQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgIlRoaXMgY2FtcCBpcyByZXF1aXJlZC4iLA0KICAgICAgICAgICAgICAgICAgICBsZW5ndGg6IHYgPT4gKHYgfHwgJycgKS5sZW5ndGggPD0gMjAgfHwgJ1VzZXJuYW1lIGRldmVyw6EgY29udGVyIDIwIGNhcmFjdGVyZXMgb3UgbWVub3MnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogIiIsDQogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkUmVnaXN0ZXI6ICIiLA0KICAgICAgICAgICAgICAgIHBhc3N2ZXJpZnk6ICIiLA0KICAgICAgICAgICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgICAgICAgICBlbWFpbFJlZ2lzdGVyOiAiIiwNCiAgICAgICAgICAgICAgICB0eXBlOiAicGFzc3dvcmQiLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6JycsDQogICAgICAgICAgICAgICAgYWxlcnQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgICAgICAgICAgIGRpYWxvZzogZmFsc2UsDQogICAgICAgICAgICAgICAgdmFsdWVMb2dpbjogU3RyaW5nLA0KICAgICAgICAgICAgICAgIHZhbHVlUmVnaXN0YXJQYXNzOiBTdHJpbmcsDQogICAgICAgICAgICAgICAgdmFsdWVSZWdpc3RhckNvbmZpclBhc3M6IFN0cmluZywNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgICAgIHBhc3N3b3JkTWF0Y2goKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHRoaXMucGFzc3dvcmRSZWdpc3RlciA9PT0gdGhpcy5wYXNzdmVyaWZ5IHx8ICJQYXNzd29yZCBtdXN0IG1hdGNoIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwgIA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgICBwb3N0TG9naW4oanNvbikgew0KICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NzcwMC91dGlsaXphZG9yL2xvZ2luLyIsIGpzb24pDQogICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3dCcsZGF0YS5kYXRhLnRva2VuKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydCA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbG9naW4oKSB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHZhciBqc29uID0ge30NCiAgICAgICAgICAgICAgICBqc29uWydlbWFpbCddID0gdGhpcy5lbWFpbA0KICAgICAgICAgICAgICAgIGpzb25bJ3Bhc3N3b3JkJ10gPSB0aGlzLnBhc3N3b3JkDQogICAgICAgICAgICAgICAgdGhpcy5wb3N0TG9naW4oanNvbikgDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmVnaXN0ZXIoKSB7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nPXRydWUNCiAgICAgICAgICAgICAgICB2YXIganNvbiA9IHt9DQogICAgICAgICAgICAgICAganNvblsnbm9tZSddID0gdGhpcy51c2VybmFtZQ0KICAgICAgICAgICAgICAgIGpzb25bJ2VtYWlsJ10gICAgPSB0aGlzLmVtYWlsUmVnaXN0ZXINCiAgICAgICAgICAgICAgICBqc29uWydwYXNzd29yZCddID0gdGhpcy5wYXNzd29yZFJlZ2lzdGVyDQogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo3NzAwL3V0aWxpemFkb3IvcmVnaXN0YXIvIiwganNvbikNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdExvZ2luKGpzb24pIA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KSAgICAgICANCiAgICAgICAgICAgIH0sICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9DQogIA0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"login\">\r\n      <v-dialog max-width=\"400px\" v-model=\"dialog\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <span class=\"hyperlink\" v-on=\"on\"><b>Login</b></span>\r\n            </template>\r\n\r\n            <v-tabs v-model=\"tab\" show-arrows color=\"#57a2bf\" background-color=\"white\" icons-and-text light grow>\r\n                <v-tabs-slider color=\"#57a2bf\"></v-tabs-slider>\r\n                <v-tab v-for=\"i in tabs\" :key=\"i.name\" >\r\n                      <div class=\"caption py-1\" >{{ i.name }}</div>\r\n                </v-tab>\r\n                <v-tab-item>\r\n                    <v-card>\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"email\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueLogin ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueLogin ? 'password' : 'text'\" \r\n                                    v-model=\"password\" \r\n                                    label=\"Password\"\r\n                                    :rules=\"[rules.required]\"\r\n                                    @click:append=\"() => (valueLogin = !valueLogin)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" \r\n                            style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"login()\" \r\n                            color=\"#57a2bf\"\r\n                            >Login</v-btn>\r\n                        </v-card-actions>\r\n\r\n                    </v-card>\r\n                </v-tab-item>\r\n                \r\n                <v-tab-item >\r\n                    <v-card >\r\n                        <v-card-text>\r\n                            <v-container pa-0>\r\n                                <p v-if=\"alert\" class=\"alert\">{{this.message}}</p>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"username\" \r\n                                    :rules=\"[rules.required,rules.length]\"\r\n                                    label=\"Username\" >\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    type=\"text\" \r\n                                    v-model=\"emailRegister\" \r\n                                    :rules=\"[rules.required]\"\r\n                                    label=\"Email\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required]\"  \r\n                                    v-model=\"passwordRegister\" \r\n                                    label=\"Password\"\r\n                                    @click:append=\"() => (valueRegistarPass = !valueRegistarPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                                <v-col cols=\"12\">\r\n                                    <v-text-field \r\n                                    :append-icon=\"valueRegistarConfirPass ? 'mdi-eye' : 'mdi-eye-off'\" \r\n                                    :type=\"valueRegistarConfirPass ? 'password' : 'text'\"\r\n                                    :rules=\"[rules.required, passwordMatch]\" \r\n                                    block \r\n                                    v-model=\"passverify\"\r\n                                    label=\"Confirm Password\"\r\n                                    @click:append=\"() => (valueRegistarConfirPass = !valueRegistarConfirPass)\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-container>\r\n                        </v-card-text>\r\n\r\n                        <v-card-actions class=\"justify-center\">\r\n                            <v-btn \r\n                            :loading=\"loading\" \r\n                            v-ripple=\"{ class: 'primary--text' }\" \r\n                            width=\"200\" style=\"height:40px;\" \r\n                            class=\"white--text\" \r\n                            elevation=\"1\" \r\n                            v-on:click=\"register()\" \r\n                            color=\"#57a2bf\"\r\n                            >Register</v-btn>\r\n                        </v-card-actions>          \r\n                    </v-card>\r\n                </v-tab-item>\r\n            </v-tabs>  \r\n      </v-dialog>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        name: 'Login',\r\n        data() {\r\n            return {\r\n                tab: 0,\r\n                tabs: [\r\n                    {name:\"Login\", icon:\"mdi-account\"},\r\n                    {name:\"Register\", icon:\"mdi-account-outline\"}\r\n                ],\r\n                rules: {\r\n                    required: value => !!value || \"This camp is required.\",\r\n                    length: v => (v || '' ).length <= 20 || 'Username deverá conter 20 caracteres ou menos'\r\n                },\r\n                username: \"\",\r\n                password: \"\",\r\n                passwordRegister: \"\",\r\n                passverify: \"\",\r\n                email: \"\",\r\n                emailRegister: \"\",\r\n                type: \"password\",\r\n                message:'',\r\n                alert: false,\r\n                loading: false,\r\n                dialog: false,\r\n                valueLogin: String,\r\n                valueRegistarPass: String,\r\n                valueRegistarConfirPass: String,\r\n            }\r\n        },\r\n        computed: {\r\n            passwordMatch() {\r\n                return () => this.passwordRegister === this.passverify || \"Password must match\";\r\n            }\r\n        },  \r\n        methods: {\r\n            postLogin(json) {\r\n                axios.post(\"http://localhost:7700/utilizador/login/\", json)\r\n                    .then(data => {\r\n                        localStorage.setItem('jwt',data.data.token)\r\n                        this.$router.go()\r\n                        this.dialog = false\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })\r\n            },\r\n            login() {\r\n                this.loading = true\r\n                var json = {}\r\n                json['email'] = this.email\r\n                json['password'] = this.password\r\n                this.postLogin(json) \r\n            },\r\n            register() {\r\n                this.loading=true\r\n                var json = {}\r\n                json['nome'] = this.username\r\n                json['email']    = this.emailRegister\r\n                json['password'] = this.passwordRegister\r\n                axios.post(\"http://localhost:7700/utilizador/registar/\", json)\r\n                    .then( () => {\r\n                        this.postLogin(json) \r\n                    })\r\n                    .catch(err => {\r\n                        this.alert = true\r\n                        this.message = err.response.data.message\r\n                        this.loading = false\r\n                    })       \r\n            },            \r\n        }\r\n    }\r\n  \r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\r\n#login {\r\n    margin: auto;\r\n}\r\n\r\n.alert {\r\n    text-align: center;\r\n    color: red;\r\n}\r\n#login .tab {\r\n    color: #57a2bf;\r\n}\r\n\r\n.hyperlink {\r\n    text-decoration: none;\r\n    color: #212121 !important;\r\n}\r\n\r\n</style>"]}]}